/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"067BBF60-74B7-4466-AFF0-3C6809D00955",variableType:4}
 */
var protambu1400_vSector = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"AD09C48B-9653-4541-BAF8-388C009ACF18",variableType:8}
 */
var protambu1400_hiscli = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"64C64B74-E82B-4677-9475-12FB4E3BA524",variableType:4}
 */
var protambu1400_tipoRecuperacion = null;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"FA51E98F-B84D-4A81-BDF1-B03B43278E4D",variableType:4}
 */
var protambu1400_hora_hiscamas = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"8BBBF426-A6CB-4D24-B981-A42021696E3A",variableType:4}
 */
var protambu1400_fecha_hiscamas = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"28B5B807-0951-4604-AE53-BE4ACA7EADA8",variableType:4}
 */
var protambu1400_habita = 0;

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"79633089-6BA5-416E-AADC-3B15B217E0FB"}
 */
var protambu1400_cama = ' ';

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"7D05AC34-1EDB-4CA0-9C3A-5541B87D62D6",variableType:8}
 */
var protambu1400_nropedunico = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"09D831EA-8C17-4BE7-BF5A-DEA242BE3549",variableType:4}
 */
var protambu1400_vEstado = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"B63E5120-855D-41CF-A1E6-70B6B64C9997",variableType:4}
 */
var protambu1400_vImed = 0;

/**
 * @properties={typeid:35,uuid:"7DB1DDB0-0D23-401C-8E74-B7A8F25E8FAB",variableType:-4}
 */
var protambu1400_asignacama = false;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"7A9605ED-D0B2-47D2-88E1-CBFD629362DB",variableType:4}
 */
var protambu1400_horaingreso_aux = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"7B857709-921D-47FC-9624-3BED846D5214",variableType:4}
 */
var protambu1400_fechaingreso_aux = 0;

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"316BA09F-5A82-448F-ACD9-026713665948"}
 */
var protambu1400_SolucionQueLlama = '';

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"20D9AC29-2055-4291-8E81-F6EAF6520DD6"}
 */
var protambu1400_vpatologiaAlfa = '';

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"06CCD61D-0545-4E66-A02A-543A04D3233F"}
 */
var protambu1400_vMonitoSiNo = '';

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"F010CBB6-CE0C-4185-9F4C-91128CF8E09F",variableType:4}
 */
var protambu1400_servicio = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"E3113AD5-B3A8-42D0-88D1-334DB9D7A67E",variableType:4}
 */
var protambu1400_vTipoTecnico = 0;

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"9755E8DF-4D3C-4208-8B28-41E1966318A3"}
 */
var protambu1400_vPassOperadorTecnico = '';

/**
 * @properties={typeid:35,uuid:"3A842CB6-920F-4241-B53C-DCB98342528A",variableType:-4}
 */
var protambu1400_vDigVerifTecnico = false;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"82402C2B-2A4C-4E24-ADFC-3F9465D9684A",variableType:4}
 */
var protambu1400_digito_verificadorTecnico = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"87BE2C4E-1B18-40F3-8B2E-00A035E33D3B",variableType:4}
 */
var protambu1400_vlargoTecnico = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"28894010-A853-4514-83C0-6B0FB770517D",variableType:4}
 */
var protambu1400_vTipoOperadorTecnico = 0;

/**
 * @properties={typeid:35,uuid:"C9F489AE-E5ED-4389-84EF-8F948D2453A9",variableType:-4}
 */
var protambu1400_vIngresoTecnico = false;

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"3E0E9D43-2D6B-41BB-815F-066114D4255D"}
 */
var protambu1400_vOperadorTecnico = '';

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"F11EEB43-4C80-469E-9C1B-F1B299CCC76B"}
 */
var protambu1400_vClaveTecnico = '';

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"F456B765-5C75-4F00-861A-C491C027DF8F",variableType:4}
 */
var protambu1400_vLegaTecnico = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"7A008F55-933C-4776-B390-CBD18FF56554",variableType:4}
 */
var protambu1400_vLegajoTecnico = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"AB27F4D4-1874-416A-BC97-867C35631B60",variableType:4}
 */
var protambu1400_tipohc = 1;

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"A7AE6FE2-C3D2-4204-B4CE-AE0684991E0E"}
 */
var protambu1400_responsableMonitoreo = '';

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"45BD54F4-AB86-4D65-8E31-F7BA00C34E86"}
 */
var protambu1400_responsableHemoterapia = '';

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"6C72255A-20E1-4D74-95A9-61A0CB24D162",variableType:4}
 */
var protambu1400_vItemTexto = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"BCD9AD33-91A5-4B82-8660-517C072B83E7",variableType:4}
 */
var protambu1400_horaingreso_cajas = 0;

/**
 * @properties={typeid:35,uuid:"0F2C1CEA-89F8-4F9D-B644-0D466E93EF16",variableType:-4}
 */
var protambu1400_protocoloNuevo = false;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"452D2AFE-EDD0-4C19-8009-7D277686A0A0",variableType:4}
 */
var protambu1400_vTipoIntrumentadora = 0;

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"B000246F-6702-4AAE-8319-1064222238B0"}
 */
var protambu1400_vApeynomMedico = '';

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"F3DA393B-324F-413C-BC8A-88FFB09E391F",variableType:4}
 */
var protambu1400_vCodigoMedico = 0;

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"E204CD26-0B3D-4E4C-9A56-6EFDBE35E6E8"}
 */
var protambu1400_vciricodmed_7descri = '';

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"DE5032B0-00D2-472D-8E8D-CC8DDE9701FA",variableType:4}
 */
var protambu1400_vciricodmed_7 = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"6BCB6050-394A-43F0-83C3-423E7308D124",variableType:4}
 */
var protambu1400_secuencia = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"DC4D8FB8-06F1-45B2-813F-FB45DF7C1665",variableType:4}
 */
var protambu1400_tiponome = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"0C578C51-0430-4396-8330-03144F43E4A5",variableType:4}
 */
var protambu1400_codnome = 0;

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"B2F2FC67-B48D-49A7-962E-7B6BDD96BAAA"}
 */
var protambu1400_cirujanoApeynom = '';

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"699D54DE-6B67-4CC5-A15E-93FE1FF15B7E"}
 */
var protambu1400_cirujanoalf = '';

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"A9BF1B70-04B0-4277-89DB-2095BB4F4808",variableType:4}
 */
var protambu1400_io_legcirujano = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"BD5D669C-23BA-46A3-8F2A-AFA0C0577BAF",variableType:4}
 */
var protambu1400_legcirujano = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"F814D135-57C6-4E66-8B2E-FDF58787709A",variableType:4}
 */
var protambu1400_quirofano = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"16CD1D72-B21F-4416-8D02-EE429ACDF588",variableType:4}
 */
var protambu1400_EsHemodinamia = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"CC090EAF-0A3A-4AD5-931A-49F04ADB6FF0",variableType:4}
 */
var protambu1400_interven = 0;

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"6A158951-82C4-43DF-B89F-6D81B8BD6180"}
 */
var protambu1400_intervenAlfa = '';

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"50B02321-E5F9-4EEA-9F48-CEF16F98F198",variableType:4}
 */
var protambu1400_hora_ingreso = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"131773ED-4FB8-4F69-93A1-F53BEEC3D992",variableType:4}
 */
var protambu1400_fechaingreso = 0;

/**
 * @param {number} tiphc
 * @param {number} historia
 * @param {number} fecha
 * @param {number} hora
 * @param {number} tipo
 * @properties={typeid:24,uuid:"EA8CF209-830F-47EE-88A7-4DA8012636B0"}
 * @AllowToRunInFind
 */
function protambu_MostrarTextoHCIR(tiphc, historia, fecha, hora, tipo) {
	var fs1 = databaseManager.getFoundSet("asistencial", "tbc_hcicirtxt")
	var texto = '';
	var j = 0;
	var name = new Array()
	name[0] = "hcirx_tiphistclin"
	name[1] = "hcirx_histclin"
	name[2] = "hcirx_fec"
	name[3] = "hcirx_hora"
	name[4] = "hcirx_tittxt"
	name[5] = "hcirx_nrolinea"
	name[6] = "hcirx_linea"

	fs1.find()
	fs1[name[0]] = tiphc
	fs1[name[1]] = historia
	fs1[name[2]] = fecha
	fs1[name[3]] = hora
	fs1[name[4]] = tipo
	fs1.search()

	var filasf = fs1.getSize()
	if (filasf > 0) {

		fs1.setSelectedIndex(1)
		texto = utils.stringTrim(fs1[name[6]]);
		for (j = 2; j < filasf + 1; j++) {
			fs1.setSelectedIndex(j)
			texto = texto + utils.stringTrim(fs1[name[6]]);
		}
	}
	return texto
}

/**
 * @param {number} tiphc
 * @param {number} historia
 * @param {number} fecha
 * @param {number} hora
 * @param {string} f_texto
 * @param {number} tipo
 * @properties={typeid:24,uuid:"F8CF5911-717F-42B7-A325-DC0B9A14004B"}
 * @AllowToRunInFind
 */
function protambu_GrabarTextoHCIR(tiphc, historia, fecha, hora, f_texto, tipo) {
	f_texto = utils.stringTrim(f_texto)
	application.setClipboardContent(f_texto)
	
	var fs1 = databaseManager.getFoundSet("asistencial", "tbc_hcicirtxt")
	var j = 0;

	fs1.find()
	fs1['hcirx_tiphistclin'] = tiphc
	fs1['hcirx_histclin'] = historia
	fs1['hcirx_fec'] = fecha
	fs1['hcirx_hora'] = hora
	fs1['hcirx_tittxt'] = tipo
	fs1.search()

	var longitudTexto = 0;
	longitudTexto = f_texto.length;
	var posicionFinal = 0;
	posicionFinal = f_texto.indexOf("\n");
	var posicionInicial = 0;
	if (posicionFinal < 0){
		posicionFinal = f_texto.length
	}
	
	if (historia < 77200) {
		var kenter = f_texto.indexOf("\n");
		while (kenter > 0) {
			f_texto = f_texto.replace("\n", "");
			kenter = f_texto.indexOf("\n");
		}
	}
	var tamanio = 0;
	tamanio = fs1.getSize();

	if (tamanio > 0)
		fs1.deleteAllRecords()
	application.sleep(200)
	
	var lineas = Math.round(longitudTexto / 78);

	var resto = longitudTexto % 78;
	posicionFinal = 78;
	if (resto > 0)
		++lineas;
	
	for (j = 1; j < lineas + 1; j++) {
		var vlarguito = f_texto.substr(posicionInicial, 78)
		if (vlarguito != '') {
			fs1.newRecord();
			fs1['hcirx_tiphistclin'] = tiphc
			fs1['hcirx_histclin'] = historia
			fs1['hcirx_fec'] = fecha
			fs1['hcirx_hora'] = hora
			fs1['hcirx_tittxt'] = tipo
			fs1['hcirx_nrolinea'] = j;
			fs1['hcirx_linea'] = f_texto.substr(posicionInicial, 78);
			databaseManager.saveData(fs1.getSelectedRecord())
			posicionInicial = posicionInicial + 78;
			//++lineascab
		}
	}
}
