/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"67AF6920-014C-47B1-9BB3-AC22EB98C839"}
 */
var tableroasis_compara_per_1 = '';
/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"AD74B449-00C7-4B2A-8F2C-65208AFAD9C0"}
 */
var tableroasis_compara_per_2 = '';
/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"3A54D491-E3AC-43EC-BB49-2DEB58449EE2"}
 */
var tableroasis_compara_per_3 = '';
/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"BB82A73C-D47F-4B87-A494-0AEB70275DDB"}
 */
var tableroasis_compara_per_4 = '';
/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"89AAF9C0-679B-4157-9A7F-81EA4FD7B9C8"}
 */
var tableroasis_compara_per_5 = '';
/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"D50EBA1E-FB1F-40D8-931A-4529454187BD"}
 */
var tableroasis_compara_per_6 = '';
/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"74677E5A-D87B-46E8-B11F-F4E189F12A96"}
 */
var tableroasis_compara_per_7 = '';
/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"0425E645-2F37-427A-BBD9-77272B420EE5"}
 */
var tableroasis_compara_per_8 = '';
/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"E67071BA-5B13-4840-BE5F-E522CD6DD003"}
 */
var tableroasis_compara_per_9 = '';
/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"4283047E-1D1A-42C9-9038-5FB54C84A5AB"}
 */
var tableroasis_compara_per_10 = '';
/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"00E28E71-15A1-4BA6-AA61-FDCE46B48581"}
 */
var tableroasis_compara_per_11 = '';
/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"79F3D585-5DA1-4A15-B508-F47869A3063E"}
 */
var tableroasis_compara_per_12 = '';

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"5D311DC2-4DD9-4E28-8C1B-DBE32E5C250C",variableType:4}
 */
var tableroasis_meses = 0;

/**
 * @properties={typeid:35,uuid:"F0361FAF-6CC5-4BF5-8308-8C2915FC3824",variableType:-4}
 */
var tableroasis_permisos = null;

/**
 * @type {Date}
 *
 * @properties={typeid:35,uuid:"08FBC269-BD53-4412-8EC0-BF9095225E25",variableType:93}
 */
var tableroasis_fecha_per_1 = new Date();

/**
 * @type {Date}
 *
 * @properties={typeid:35,uuid:"67CF2A47-34C4-4CF3-90DA-884278E4F886",variableType:93}
 */
var tableroasis_fecha_per_2 = new Date();

/**
 * @type {Date}
 *
 * @properties={typeid:35,uuid:"6B7AAF3B-119F-4723-B8FF-1E48936B932B",variableType:93}
 */
var tableroasis_fecha_per_3 = new Date();

/**
 * @type {Date}
 *
 * @properties={typeid:35,uuid:"61098C70-01C8-4310-AFDC-C2309CF1F48C",variableType:93}
 */
var tableroasis_fecha_per_4 = new Date();

/**
 * @type {Date}
 *
 * @properties={typeid:35,uuid:"55C61B7C-C70A-45A3-9318-61DBDFEE631F",variableType:93}
 */
var tableroasis_fecha_per_5 = new Date();

/**
 * @type {Date}
 *
 * @properties={typeid:35,uuid:"6B2EC5F5-7CEC-4A51-9EA2-5B2883CE7C90",variableType:93}
 */
var tableroasis_fecha_per_6 = new Date();

/**
 * @type {Date}
 *
 * @properties={typeid:35,uuid:"63F28103-583E-4B0B-9724-913E6F49F57E",variableType:93}
 */
var tableroasis_fecha_per_7 = new Date();

/**
 * @type {Date}
 *
 * @properties={typeid:35,uuid:"77D6791A-6E77-4071-B76D-5FCF3A7802F2",variableType:93}
 */
var tableroasis_fecha_per_8 = new Date();

/**
 * @type {Date}
 *
 * @properties={typeid:35,uuid:"17727DC6-F893-4DF5-ADF4-5EDBEA25BC17",variableType:93}
 */
var tableroasis_fecha_per_9 = new Date();

/**
 * @type {Date}
 *
 * @properties={typeid:35,uuid:"BEFCCA03-72FD-4359-B3C1-0F2EA8128E4A",variableType:93}
 */
var tableroasis_fecha_per_10 = new Date();

/**
 * @type {Date}
 *
 * @properties={typeid:35,uuid:"122FCFA2-126C-4DEB-A003-B01894B63241",variableType:93}
 */
var tableroasis_fecha_per_11 = new Date();

/**
 * @type {Date}
 *
 * @properties={typeid:35,uuid:"7FB3CCF4-6E88-4ECB-8476-1F8F856E9E99",variableType:93}
 */
var tableroasis_fecha_per_12 = new Date();

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"60AEEACC-1AAC-4B6C-9129-8564AD8F30BA"}
 */
var tableroasis_per_1 = '';

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"1493A13A-6AA9-4179-95A6-A9C6330DD975"}
 */
var tableroasis_per_2 = '';

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"450BC5C6-F623-4CBE-858B-7C48B704B668"}
 */
var tableroasis_per_3 = '';

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"F725C756-2C63-4C8A-A2A9-A9FD2B7016E4"}
 */
var tableroasis_per_4 = '';

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"823B1EB0-DDF3-4ADE-9219-539B9002DBCE"}
 */
var tableroasis_per_5 = '';

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"33C5C3C7-C0C4-4A24-9F79-70297AF1DD4B"}
 */
var tableroasis_per_6 = '';

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"EAD7EC88-05E4-43E1-BDD2-287A6E1B32D2"}
 */
var tableroasis_per_7 = '';

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"A2919034-5325-487A-B332-1F4566AA86CA"}
 */
var tableroasis_per_8 = '';

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"F7106640-7756-4451-98C1-9F08EF9541F1"}
 */
var tableroasis_per_9 = '';

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"262B7EFB-640E-4017-8DE2-648DC28C5CD4"}
 */
var tableroasis_per_10 = '';

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"81FC0F5F-AC27-4C56-B39E-7F402FFBBD36"}
 */
var tableroasis_per_11 = '';

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"9E234447-4F82-43E3-8473-EDE4806DB71F"}
 */
var tableroasis_per_12 = '';

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"34A2C6B8-E2B4-4602-8C3B-47D1F378F72C",variableType:4}
 */
var tableroasis_comparar = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"08A3125A-FB88-431A-BF92-1BF77F9AD2CA",variableType:4}
 */
var tableroasis_agrupacion = 1;

/**
 * @type {Date}
 *
 * @properties={typeid:35,uuid:"EC2AAE7E-A2C6-44D9-BB75-AE60F7E0A8DA",variableType:93}
 */
var tableroasis_periodo_hasta = null;

/**
 * @type {Date}
 *
 * @properties={typeid:35,uuid:"F2791CE2-7A5E-4FC3-8015-0AC36B81E816",variableType:93}
 */
var tableroasis_periodo_desde = null;

/**
 * @param args
 * @properties={typeid:24,uuid:"3107765B-EF24-4F7F-817C-9A77F000D954"}
 */
function llamada_a_AdmDirCons_TableroAsistencial(args) {
	args = args.toString()
	args=args.split(';') 
	globals.vLegajo=utils.stringToNumber(args[0])
	globals.vLega=utils.stringToNumber(args[1])
	globals.vOperador=args[2]
	globals.vTipoOperador=utils.stringToNumber(args[3])
	globals.gbl_transacciones_1=utils.stringToNumber(args[4])
	globals.gbl_transacciones_2=utils.stringToNumber(args[5])
	globals.gbl_expanding_Nodes=args[6] 
	globals.gbl_title=args[7]

	//Muestra Formulario Principal
	var win = application.createWindow("Menu_itm",JSWindow.MODAL_DIALOG)	
	win.title= globals.gbl_title 
	//win.resizable = false
	win.show(forms.frm_cons_estado_economico_2898)
	win.destroy()
}

/**
 * @param formname
 * @param rec
 * @properties={typeid:24,uuid:"78BFCD40-12CB-4928-BC0D-FC993B1F619B"}
 */
function tableroasis_printRoutine(formname, rec) {
	var frm = formname;
	var oneRecord = rec;

	if(!oneRecord) oneRecord = false

	if(!frm) return;
    forms[frm].controller.setPageFormat(210,297,5,5,10,10,1,0)
	//forms[frm].controller.showPrintPreview(oneRecord)
	forms[frm].controller.print(oneRecord)
}

/**
 * Callback method for when solution is opened.
 *
 * @properties={typeid:24,uuid:"ADB5CAB1-0014-4F8F-86B2-4888433CA535"}
 */
function onSolutionOpen_TableroAsistencial() {
	plugins.window.getMenuBar().setVisible(false)
	plugins.window.setToolBarAreaVisible(false)
	
	var names1 = plugins.window.getToolbarNames();
    for (var i = 0 ; i < names1.length ; i++) {
     	plugins.window.removeToolBar(names1[i])
    }	
    plugins.window.setFullScreen(false)
	plugins.window.maximize()
    plugins.window.getMenuBar().setVisible(false)
	plugins.window.setToolBarAreaVisible(false)
	databaseManager.setAutoSave(false);
    globals.vClose=false
}

/**
 * @param args
 *  
 * @properties={typeid:24,uuid:"53E695AF-6ECA-4C65-97D6-ABA9A76124D5"}
 */
function llamada_desde_Menu(args) {
	// Trae datos desde el Menu
	args = args.toString()
	args=args.split(';') 
	globals.vLegajo=utils.stringToNumber(args[0])
	globals.vLega=utils.stringToNumber(args[1])
	globals.vOperador=args[2]
	globals.vTipoOperador=utils.stringToNumber(args[3])
	globals.gbl_transacciones_1= 0 //args[4] 
	globals.vEmpresa=args[5]
	globals.gbl_expanding_Nodes=args[6]
	globals.gbl_title= 'Consulta de Análisis Clínicos - Internados'
	forms.frm_menu.elements.frm_main.dividerLocation = 0.20	// divide ventana
	application.updateUI()
	
	//Cargar permisos
	var $ip         = application.getIPAddress()
	var $solucion   =  application.getSolutionName()	
	var $Args       = new Array()
	var $SQL ="select  PERF.codigo_perfil, PERF.codigo_solucion, PERF.codigo_formulario, PERF.codigo_elemento, " 
             +"PERF.visible, PERF.accesible "
	         +"from tbl_permiso "
             +"left join tbl_perfil_itm PERF on tbl_permiso.codigo_perfil = PERF.codigo_perfil "             
             +"where tbl_permiso.codigo_legajo = "
             + globals.vLega
			 if (globals.vLega == 0){
				 $SQL = $SQL + " and ip = '"
				 + $ip + "'"
			 }
			 $SQL = $SQL + " and PERF.codigo_solucion = '"
			 + $solucion
             +"' order by PERF.codigo_perfil asc, PERF.codigo_solucion asc, PERF.codigo_formulario asc, PERF.codigo_elemento asc"
    globals.tableroasis_permisos = databaseManager.getDataSetByQuery("desal", $SQL, $Args, -1);	
    var $max = globals.tableroasis_permisos.getMaxRowIndex()
	if(!$max){ return}	
    
	//Muestra Formulario Principal
	var win = application.createWindow("Menu_item",JSWindow.MODAL_DIALOG)	
    win.title= globals.gbl_title
    win.resizable = true	
    win.show(forms.tableroasis_frm_principal)
	win.destroy()
	
}
