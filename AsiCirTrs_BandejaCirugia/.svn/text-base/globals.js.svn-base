/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"8A89FBD1-6BC8-4066-9172-1F6470B1E36A",variableType:4}
 */
var bandejaciru_tipoRecuperacion = 0;

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"BD1B8552-0A00-4150-9F04-29E80D808FD7"}
 */
var bandejaciru_wkeycir = ' ';

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"F2F631FA-A175-463E-AA00-BBB061DDB548",variableType:4}
 */
var bandejaciru_vEspeMed = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"5BBD2C21-5216-41C5-A8AD-FC229FF054F3",variableType:4}
 */
var bandejaciru_vClave = 0;

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"65E71994-23F6-4B0F-BEE0-809B7B75949F"}
 */
var bandejaciru_vOperador = ' ';

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"2BA2788B-87F3-414E-8D43-2E5F31F4CED4",variableType:4}
 */
var bandejaciru_vLega = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"8EAACE25-B2F9-4317-A0DA-9766FA56799D",variableType:4}
 */
var bandejaciru_vLegajo = 0;

/**
 * @properties={typeid:35,uuid:"91B2C1AD-A1E7-45DE-8800-CC37EF3D3ECF",variableType:-4}
 */
var bandejaciru_esAnestesista = false;

/**
 * @properties={typeid:35,uuid:"B0D1C0E4-E0C3-4B15-AC02-778AB538BD99",variableType:-4}
 */
var bandejaciru_vSolomedicos = false;

/**
 * @properties={typeid:35,uuid:"0DE56B79-774B-42D8-AC18-8C3DB76D23E9",variableType:-4}
 */
var bandejaciru_permisos = null;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"5C211756-AFCF-4FD6-B94B-585A765544F7",variableType:4}
 */
var bandejaciru_nropedunico = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"B144D489-F642-4361-824C-3DC7F62412C1",variableType:4}
 */
var bandejaciru_grupo_texto = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"45A438B7-9927-400E-9F0F-D4C1367FDBC1",variableType:4}
 */
var bandejaciru_secuencia = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"318EAFB2-D74F-4813-88FA-B421236E3218",variableType:4}
 */
var bandejaciru_horaingreso_cajas = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"D83A4C81-772F-468F-89EE-080DB2773EF1",variableType:4}
 */
var bandejaciru_vItemTexto = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"188F4954-AC52-40E0-89E5-8743784BBC5A",variableType:4}
 */
var bandejaciru_horaingreso_aux = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"1B6F49B0-5C27-44B0-ACC2-164399381BCD",variableType:4}
 */
var bandejaciru_fechaingreso_aux = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"AA32B456-F5E5-4773-A5A2-628C28304E53",variableType:4}
 */
var bandejaciru_vCodigoArt_tmp = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"EA7448BE-4FE8-4DE0-8CAB-CA0B843A10C6",variableType:8}
 */
var bandejaciru_numero_rep = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"BFD000D3-BCB3-412B-8503-5401BF1E1880",variableType:4}
 */
var bandejaciru_fecha_rep = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"A6946724-9813-4DDF-9004-8A30E21145EE",variableType:4}
 */
var bandejaciru_artsol_rep = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"5BE44A4F-FE41-46B5-B5AC-5C544FAE963C",variableType:4}
 */
var bandejaciru_nomencla = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"7F47825A-22E4-4575-B60B-283D39C76AEA",variableType:4}
 */
var bandejaciru_medico = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"10106D60-E3D2-4797-B34D-35F84B0A136C",variableType:4}
 */
var bandejaciru_hora_hiscamas = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"8D54A228-BA0A-4C5E-9D9B-49232FE70494",variableType:4}
 */
var bandejaciru_fecha_hiscamas = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"AE79204A-3C08-4E12-83D3-DA33B76894FB",variableType:4}
 */
var bandejaciru_habita = 0;

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"AA84A476-C0C1-43C7-98B1-72417DE90BFF"}
 */
var bandejaciru_cama = ' ';

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"C7A3C4A7-0BF8-46F0-BFFD-8955D6741EF4",variableType:4}
 */
var bandejaciru_vEstado = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"49306DAB-EACC-420E-956D-72ED5BC94D64",variableType:4}
 */
var bandejaciru_vCodigoCombo = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"8EE6D4CF-4B4F-4DCB-8A78-E8B8FB00EABD",variableType:4}
 */
var bandejaciru_vSector = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"4F61B38C-E3DF-4AF6-8B18-61760CFFB832",variableType:4}
 */
var bandejaciru_TipHisclin = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"201ADD1B-1025-4417-B843-6ACF56074C83",variableType:4}
 */
var bandejaciru_LegOperador = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"5DC77DF0-8D29-4BAF-8CA5-08479EC30A18",variableType:4}
 */
var bandejaciru_TipOperador = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"5F16A147-B0F4-4E93-B2DD-041692EC2DD5",variableType:4}
 */
var bandejaciru_TipoCirujano = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"F8585964-D9DC-41C2-95DA-50F7B31E7B7F",variableType:4}
 */
var bandejaciru_Cirujano = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"949CA6E8-F8D0-4DA1-B783-A4A0C87B40D6",variableType:4}
 */
var bandejaciru_horaingreso = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"590AFEFD-174F-47E4-A8CC-730837C3512E",variableType:4}
 */
var bandejaciru_fechaingreso = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"A10D6F0B-9B72-4CEF-AF64-0BA87A8F6423",variableType:4}
 */
var bandejaciru_estado = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"923532FD-07F7-4E3F-B798-70CF3449D749",variableType:4}
 */
var bandejaciru_vCantidad = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"68764AFE-5847-42D4-BBEC-CB30AB8A803A",variableType:4}
 */
var bandejaciru_vCodigoMed = 0;

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"C1DB7E4C-C2CC-4FD8-BDE5-988F3120247E"}
 */
var bandejaciru_vAlfaCodigoMed = ' ';

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"50E1DEA8-1641-430C-B3D3-850425EE4CC7",variableType:4}
 */
var bandejaciru_vImed = 0;

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"F546D9B5-8A2D-4E1D-B425-B8B691E2720B"}
 */
var bandejaciru_alfa_medicam = ' ';

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"9C38C5CB-A72C-4010-AB99-A0DC739C5C39",variableType:4}
 */
var bandejaciru_cantidad = 0;

/**
 * @type {Date}
 *
 * @properties={typeid:35,uuid:"0EE211CF-1C5C-4342-8B30-5DAB2FCEC9FD",variableType:93}
 */
var bandejaciru_fechaahora = null;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"346D4FEB-3829-445D-ACF4-D8EEF617AC47",variableType:8}
 */
var bandejaciru_hiscli = 0;

/**
 * @type {Number}
 *
 * @properties={typeid:35,uuid:"97BB1796-940F-4DE9-A557-982EB41BB3DE",variableType:4}
 */
var bandejaciru_protocolo = 0;

/**
 * @type {String}
 *
 * @properties={typeid:35,uuid:"AB1F94B8-859F-4149-8661-5802A741D91B"}
 */
var bandejaciru_gbl_nombre_ope = ' ';

/**
 * @type {Date}
 *
 * @properties={typeid:35,uuid:"7B7D6F14-E11E-4FEF-AD85-A97BA564A03C",variableType:93}
 */
var bandejaciru_gbl_fecha = null;

/**
 * TODO generated, please specify type and doc for the params
 * @param args
 *
 * @properties={typeid:24,uuid:"4BF8D58F-23B9-48D1-93DC-AF3778BABED7"}
 */
function llamada_desde_Menu(args) {
	
	// Trae datos desde el Menu
	args = args.toString()
	args=args.split(';') 
	globals.vLegajo=utils.stringToNumber(args[0])
	globals.vLega=utils.stringToNumber(args[1])
	globals.vOperador=args[2]
	globals.vTipoOperador=utils.stringToNumber(args[3])
	globals.gbl_transacciones_1= 0 //args[4] 
	globals.vEmpresa=args[5]
	globals.gbl_expanding_Nodes=args[6]
	globals.gbl_title= 'Bandeja de Cirug√≠a'
	forms.frm_menu.elements.frm_main.dividerLocation = 0.20	// divide ventana
	application.updateUI()
	
	//Cargar permisos
	var $ip         = application.getIPAddress()
	var $solucion   =  application.getSolutionName()	
	var $Args       = new Array()
	var $SQL ="select  PERF.codigo_perfil, PERF.codigo_solucion, PERF.codigo_formulario, PERF.codigo_elemento, " 
             +"PERF.visible, PERF.accesible "
	         +"from tbl_permiso "
             +"left join tbl_perfil_itm PERF on tbl_permiso.codigo_perfil = PERF.codigo_perfil "             
             +"where tbl_permiso.codigo_legajo = "
             + globals.vLega
			 if (globals.vLega == 0){
				 $SQL = $SQL + " and ip = '"
				 + $ip + "'"
			 }
			 $SQL = $SQL + " and PERF.codigo_solucion = '"
			 + $solucion
             +"' order by PERF.codigo_perfil asc, PERF.codigo_solucion asc, PERF.codigo_formulario asc, PERF.codigo_elemento asc"
    globals.bandejaciru_permisos = databaseManager.getDataSetByQuery("desal", $SQL, $Args, -1);	
    var $max = globals.bandejaciru_permisos.getMaxRowIndex()
	if(!$max){ return}
    
	//Pide legajo de medico para acceder al form
	globals.bandejaciru_vSolomedicos=true
	globals.bandejaciru_esAnestesista=false
	globals.bandejaciru_vLegajo=0
	globals.bandejaciru_vLega=0
	globals.bandejaciru_vOperador=''
	globals.bandejaciru_vClave=0
	globals.bandejaciru_vEspeMed = 0;
    

	//Muestra Formulario Principal
	var win = application.createWindow("Menu_item",JSWindow.MODAL_DIALOG)	
    win.title= globals.gbl_title
    win.resizable = false	
    win.show(forms.bandejaciru_tab_pacientes)
	win.destroy()
	
}

